<?xml version="1.0" encoding="UTF-8"?>
<PermissionCatalog xmlns="http://hrm.system/permissions">
  <!--
    Permission Catalog - Định nghĩa toàn bộ permissions khả dụng trong hệ thống
    Admin sẽ chọn permissions từ catalog này trên UI và lưu vào DB
    Không cần validation vì permissions đã được định nghĩa sẵn trong catalog
  -->

  <Permissions>

    <!-- Personnel Module - Quản lý nhân sự -->
    <Module name="Personnel" displayName="Quản lý nhân sự">

      <!-- Employee Entity -->
      <Entity name="Employee" displayName="Nhân viên">

        <Action name="View" displayName="Xem thông tin nhân viên" defaultScope="Department">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Position" displayName="Cùng chức danh" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo nhân viên mới">
          <Scopes>
            <Scope value="Company" displayName="Tạo ở bất kỳ phòng ban" />
            <Scope value="Department" displayName="Tạo trong phòng ban mình" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật thông tin nhân viên" defaultScope="Department">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa/Nghỉ việc nhân viên">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
          <Constraints>
            <Constraint type="WorkflowState">
              <Parameters>
                <Parameter name="AllowedStates" value="Active,Probation,OnLeave" />
              </Parameters>
            </Constraint>
          </Constraints>
        </Action>

        <Action name="Export" displayName="Xuất dữ liệu nhân viên">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="Import" displayName="Nhập dữ liệu nhân viên">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

      </Entity>

      <!-- Department Entity -->
      <Entity name="Department" displayName="Phòng ban">

        <Action name="View" displayName="Xem phòng ban">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Phòng ban mình" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo phòng ban">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật phòng ban">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Phòng ban mình" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa phòng ban">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

      </Entity>

      <!-- Position Entity -->
      <Entity name="Position" displayName="Chức danh">

        <Action name="View" displayName="Xem chức danh">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo chức danh">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật chức danh">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa chức danh">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

      </Entity>

      <!-- Company Entity -->
      <Entity name="Company" displayName="Công ty">

        <Action name="View" displayName="Xem công ty" />

        <Action name="Create" displayName="Tạo công ty" />

        <Action name="Update" displayName="Cập nhật công ty" />

        <Action name="Delete" displayName="Xóa công ty" />

      </Entity>

    </Module>

    <!-- Attendance Module - Chấm công -->
    <Module name="Attendance" displayName="Chấm công">

      <!-- Timesheet Entity -->
      <Entity name="Timesheet" displayName="Bảng chấm công">

        <Action name="View" displayName="Xem bảng chấm công">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo bảng chấm công">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật bảng chấm công">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa bảng chấm công">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="Approve" displayName="Phê duyệt bảng chấm công">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
          <Constraints>
            <Constraint type="WorkflowState">
              <Parameters>
                <Parameter name="AllowedStates" value="Submitted,Pending" />
              </Parameters>
            </Constraint>
          </Constraints>
        </Action>

        <Action name="Export" displayName="Xuất bảng chấm công">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

      </Entity>

      <!-- LeaveRequest Entity -->
      <Entity name="LeaveRequest" displayName="Đơn xin nghỉ">

        <Action name="View" displayName="Xem đơn nghỉ">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo đơn nghỉ">
          <Scopes>
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật đơn nghỉ">
          <Scopes>
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa đơn nghỉ">
          <Scopes>
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Approve" displayName="Phê duyệt đơn nghỉ">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
          <Constraints>
            <Constraint type="WorkflowState">
              <Parameters>
                <Parameter name="AllowedStates" value="Submitted,Pending" />
              </Parameters>
            </Constraint>
          </Constraints>
        </Action>

        <Action name="Reject" displayName="Từ chối đơn nghỉ">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
          <Constraints>
            <Constraint type="WorkflowState">
              <Parameters>
                <Parameter name="AllowedStates" value="Submitted,Pending" />
              </Parameters>
            </Constraint>
          </Constraints>
        </Action>

      </Entity>

      <!-- AttendancePolicy Entity -->
      <Entity name="AttendancePolicy" displayName="Chính sách chấm công">

        <Action name="View" displayName="Xem chính sách" />

        <Action name="Create" displayName="Tạo chính sách" />

        <Action name="Update" displayName="Cập nhật chính sách" />

        <Action name="Delete" displayName="Xóa chính sách" />

      </Entity>

    </Module>

    <!-- Payroll Module - Bảng lương -->
    <Module name="Payroll" displayName="Bảng lương">

      <!-- Payroll Entity -->
      <Entity name="Payroll" displayName="Bảng lương">

        <Action name="View" displayName="Xem bảng lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo bảng lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật bảng lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa bảng lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Process" displayName="Xử lý bảng lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
          <Constraints>
            <Constraint type="WorkflowState">
              <Parameters>
                <Parameter name="AllowedStates" value="Draft,Pending" />
              </Parameters>
            </Constraint>
          </Constraints>
        </Action>

        <Action name="Approve" displayName="Phê duyệt bảng lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
          <Constraints>
            <Constraint type="WorkflowState">
              <Parameters>
                <Parameter name="AllowedStates" value="Processed" />
              </Parameters>
            </Constraint>
          </Constraints>
        </Action>

        <Action name="Export" displayName="Xuất bảng lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

      </Entity>

      <!-- SalaryStructure Entity -->
      <Entity name="SalaryStructure" displayName="Cấu trúc lương">

        <Action name="View" displayName="Xem cấu trúc lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo cấu trúc lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật cấu trúc lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa cấu trúc lương">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

      </Entity>

    </Module>

    <!-- Identity Module - Quản lý danh tính -->
    <Module name="Identity" displayName="Quản lý danh tính">

      <!-- User Entity -->
      <Entity name="User" displayName="Người dùng">

        <Action name="View" displayName="Xem người dùng">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo người dùng">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật người dùng">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa người dùng">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="ResetPassword" displayName="Đặt lại mật khẩu">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
            <Scope value="Self" displayName="Chỉ bản thân" />
          </Scopes>
        </Action>

        <Action name="AssignPermission" displayName="Gán quyền">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

      </Entity>

      <!-- Operator Entity -->
      <Entity name="Operator" displayName="Quản trị viên">

        <Action name="View" displayName="Xem quản trị viên" />

        <Action name="Create" displayName="Tạo quản trị viên" />

        <Action name="Update" displayName="Cập nhật quản trị viên" />

        <Action name="Delete" displayName="Xóa quản trị viên" />

        <Action name="ResetPassword" displayName="Đặt lại mật khẩu" />

        <Action name="AssignPermission" displayName="Gán quyền" />

      </Entity>

      <!-- Role Entity -->
      <Entity name="Role" displayName="Vai trò">

        <Action name="View" displayName="Xem vai trò">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Create" displayName="Tạo vai trò">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Update" displayName="Cập nhật vai trò">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="Delete" displayName="Xóa vai trò">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

        <Action name="AssignPermission" displayName="Gán quyền cho vai trò">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

      </Entity>

    </Module>

    <!-- System Module - Cấu hình hệ thống -->
    <Module name="System" displayName="Cấu hình hệ thống">

      <!-- Configuration Entity -->
      <Entity name="Configuration" displayName="Cấu hình">

        <Action name="View" displayName="Xem cấu hình" />

        <Action name="Update" displayName="Cập nhật cấu hình" />

      </Entity>

      <!-- AuditLog Entity -->
      <Entity name="AuditLog" displayName="Nhật ký hệ thống">

        <Action name="View" displayName="Xem nhật ký">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
            <Scope value="Department" displayName="Cùng phòng ban" />
          </Scopes>
        </Action>

        <Action name="Export" displayName="Xuất nhật ký">
          <Scopes>
            <Scope value="Company" displayName="Toàn công ty" />
          </Scopes>
        </Action>

      </Entity>

      <!-- SystemHealth Entity -->
      <Entity name="SystemHealth" displayName="Tình trạng hệ thống">

        <Action name="View" displayName="Xem tình trạng" />

        <Action name="Monitor" displayName="Giám sát" />

      </Entity>

    </Module>

  </Permissions>

</PermissionCatalog>
